<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Jo√£o Santos - My Portfolio</title>
    <link rel="icon" href="static/images/terminal.png">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://unpkg.com/jquery.terminal/js/jquery.terminal.min.js"></script>
    <script src="https://unpkg.com/jquery.terminal/js/jquery.mousewheel-min.js"></script>
    <script src="https://unpkg.com/js-polyfills/keyboard.js"></script>
    <script src="https://unpkg.com/treeify@1.0.1/treeify.js"></script>
    <script src="https://unpkg.com/css-vars-ponyfill@2/dist/css-vars-ponyfill.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/jquery.terminal/css/jquery.terminal.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/css/style.css">

</head>

<body>
<div class="preloader"></div>
<div class="top-logo"></div>
<div class="tv">
    <div class="vintage-shell">
        <div class="status-bar">
            <div class="button-exit">
                <div onclick="exit()">
                    <i class="fa fa-times-circle" style="color: red; font-size: 20px"></i>
                </div>
            </div>
            <div class="title">user@host: ~</div>
        </div>
        <div id="term"></div>
        <div class="flicker"></div>
        <div class="scanlines"></div>
    </div>
</div>

<script>

    setTimeout(function () {
        $('.preloader').fadeOut('slow');
    }, 2000);

    var scanlines = $('.scanlines');
    var tv = $('.tv');

    function exit() {
        $('.tv').addClass('collapse');
        term.disable();
    }

    var term = $('#term').terminal(function (command, term) {
        if (command.match(/^\s*exit\s*$/)) {
            exit();
        } else if (command !== '') {
            if (command.match(/^\s*about\s*$/)) {
                term.echo("            _________       |.-\"\"\"\"\"-.| |----|                                              ")
                term.echo("    o      |   __   |       ||       || | == |                                              ");
                term.echo("      \\_ O |  |__|  |       ||       || |----|                                              ");
                term.echo("   ____/ \\ |___WW___|       |'-.....-'| |::::|                                              ");
                term.echo("   __/   /     ||           `\"\")---(\"\"` |___.|                                              ");
                term.echo("               ||          /:::::::::::\\                         ");
                term.echo("_______________||_________/:::=======:::\\`\\`\\                                         ");


                term.echo("TODO: about me, interests, previous jobs, sports, languages, blablabla");
            } else if (command.match(/^\s*college\s*$/)) {
                term.echo("college things, programming languages, lectures ...");
            } else if (command.match(/^\s*email\s*$/)) {
                term.echo("jcps@ua.pt");
            } else if (command.match(/^\s*github\s*$/)) {
                term.echo("https://github.com/joaocps");
            } else if (command.match(/^\s*facebook\s*$/)) {
                // const img = $('<img src="https://placekitten.com/200/300">');
                // term.echo(img);
                term.echo("https://www.facebook.com/jcps1994");
            } else if (command.match(/^\s*cv\s*$/)) {
                term.echo("Display my cv!");
            } else if (command.match(/^\s*help\s*$/)) {
                term.echo("Available commands:");
                term.echo("[[b;#fff;]about] - information about me.");
                term.echo("[[b;#fff;]college] - information about what i learned during college.");
                term.echo("[[b;#fff;]email] - my email address");
                term.echo("[[b;#fff;]github] - my github account");
                term.echo("[[b;#fff;]facebook] - my facebook profile");
                term.echo("[[b;#fff;]cv] - my curriculum vitae");
                term.echo("[[b;#fff;]exit] - massive earth destruction");
            } else {
                term.error(command + ': command not found, type "help"');
            }
        }
    }, {
        name: 'My_Portfolio',
        onResize: set_size,
        exit: false,
        onInit: function () {
            set_size();
            this.echo('      _        /\\/|         ____              _            ');
            this.echo('     | | ___  |/\\/_  ___   / ___|  __ _ _ __ | |_ ___  ___ ');
            this.echo('  _  | |/ _ \\ / _` |/ _ \\  \\___ \\ / _` | \'_ \\| __/ _ \\/ __|');
            this.echo(' | |_| | (_) | (_| | (_) |  ___) | (_| | | | | || (_) \\__ \\');
            this.echo('  \\___/ \\___/ \\__,_|\\___/  |____/ \\__,_|_| |_|\\__\\___/|___/');
            this.echo('                                                           ');
            this.echo('Type [[b;#fff;]about] to see personal and super private information about me.');
            this.echo('Type [[b;#fff;]college] to see what i learned during college.');
            this.echo('Did I convince you? Type [[b;#fff;]email] and contact me!');
            this.echo('Ok ... Type [[b;#fff;]github] to take a look of my unique restricted projects.');
            this.echo('Just want to take a look at my facebook profile? Type [[b;#fff;]facebook].');
            this.echo('Some serious stuff, my Curriculum Vitae is available typing [[b;#fff;]cv].')

            this.echo('BIG ENDING !!Type [[b;#fff;]exit] to turn off this dummy terminal and see my beautiful face!');
            this.echo('')
        },
        prompt: 'joaosantos@joaocps:~$ ', greetings: "",
    });

    function set_size() {
        // for window height of 170 it should be 2s
        var height = $(window).height();
        var width = $(window).width();
        var time = (height * 2) / 170;
        scanlines[0].style.setProperty("--time", time);
        tv[0].style.setProperty("--width", width);
        tv[0].style.setProperty("--height", height);
    }

    function clear() {
        term.clear();
    }

    cssVars(); // ponyfill

</script>

</body>
</html>
